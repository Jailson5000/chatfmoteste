import { useRef, useCallback, useEffect } from 'react';

export function useNotificationSound() {
  const audioRef = useRef<HTMLAudioElement | null>(null);

  useEffect(() => {
    // Create audio element with a pleasant bell/chime notification sound
    // This is a short, pleasant "ding" sound
    audioRef.current = new Audio('data:audio/wav;base64,UklGRuQFAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YcAFAAAAAAEAAgADAAQABQAHAAgACgAMAA4AEAASABQAFwAZABwAHwAiACUAKAArAC8AMgA2ADoAPgBCAEYASgBPAFMAWABdAGIAZwBsAHEAdgB8AIEAhgCMAJEAlwCdAKMApQCgAJsAlgCQAIsAhQB/AHkAcwBtAGcAYQBbAFUATwBKAEQAPwA5ADQALwAqACUAIQAcABgAFAAQAAwACQAFAAIAAAD+//v/+P/2//P/8f/v/+3/7P/q/+n/6P/n/+b/5v/l/+X/5f/l/+X/5v/m/+f/6P/p/+r/6//t/+7/8P/y//T/9//5//z//v8BAAQABwAKAA0AEQAUABgAGwAfACMAJwArAC8AMwA3ADsAPwBDAEcASwBPAFMAVwBbAF8AYwBnAGsAbwByAHYAegB9AIEAhACHAIoAjQCQAJMAIAEgAR8BHwEeAR0BHAEbARoBGQEYARcBFgEUARMBEgEQAQ8BDgEMAQsBCQEIAQYBBQEDAQIBAAH/AP0A/AD6APkA9wD2APQA8wDxAPAA7gDtAOsA6gDoAOcA5QDkAOIA4QDfAN4A3ADbANoA2ADXANUALgEuAS4BLgEtAS0BLAE8ATwBPAE8ATsBPAE/AUYBTQFUAVoBYQFnAW4BdAF6AYABhgGLAZEBlgGbAaABpQGpAa4BsgG2AbkBvQHAAcMBxgHIAcsBzQHPAdEB0wHUAdYB1wHYAdkB2gHbAdwB3QHdAd4B3wHfAeAB4AHgAeEB4QHhAeEB4QHhAeEB4QHhAeAB4AHgAd8B3wHeAd4B3QHdAdwB2wHbAdoB2QHYAdcB1gHVAdQB0gHRAdABzgHNAcsBygHIAccBxQHEAcIBwAG/Ab0BuwG6AbgBtgG0AbMBsQGvAa0BrAGqAagBpgGkAaMBoQGfAZ4BnAGaAZkBlwGWAZQBkgGRAY8BjgGMAYsBiQGIAYcBhQGEAYMBgQGAAf8A/gD9APwA+wD6APkA+AD3APYA9QD0APQA8wDyAPIA8QDwAPAA7wDvAO4A7gDtAO0A7QDsAOwA7ADrAOsA6wDrAOoA6gDqAOoA6gDqAOoA6gDqAOoA6gDqAOsA6wDrAOsA7ADsAOwA7QDtAO0A7gDuAO8A7wDwAPAA8QDxAPIA8gDzAPMA9AD1APUA9gD2APcA+AD4APkA+gD6APsA/AD8AP0A/gD/AP8AAAEAAQEBAgEDAQMBBAEFAQUBBgEHAQcBCAEJAQkBCgELAQsBDAENAQ0BDgEOAQ8BDwEQARABEQERAREBEgESARIBEwETARMBEwETARQBFAEUARQBFAEUARQBFAEUARQBFAETARMBEwETARMBEgESARIBEQERAREB');
    audioRef.current.volume = 0.4;
  }, []);

  const playNotification = useCallback(() => {
    if (audioRef.current) {
      audioRef.current.currentTime = 0;
      audioRef.current.play().catch(() => {
        // Ignore errors from browser autoplay policy
      });
    }
  }, []);

  return { playNotification };
}
